<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <canvas class='graph'></canvas><br>
    <input class='in'>
    <script>
        const canvas = document.querySelector('.graph')
        const ctx = canvas.getContext('2d')
        const input = document.querySelector('.in')
        canvas.width = 1920 * 2 / 3
        canvas.height = 1080 * 2 / 3
        let midx = 1920 * 2 / 6
        let midy = 1080 * 2 / 6

        let s = [1, -1, 3, 3]
        let t = -3
        let paused = false
        let pxSize = 25
        let ts = 1
        document.body.onkeydown = (e) => {
            if (e.keyCode == 32) {
                paused = !paused
                if (paused == true) {
                    t = -Math.PI / 2
                }
            } else if (e.keyCode == 40) {
                pxSize *= 0.75
            } else if (e.keyCode == 38) {
                pxSize *= 4 / 3
            } else if (e.keyCode == 37) {
                ts *= 0.75
            } else if (e.keyCode == 39) {
                ts *= 4 / 3
            }
        }
        ctx.fillStyle='#00FF00'
        setInterval(() => {
            t += !paused * ts / 10
            s = input.value.split(',')
            ctx.clearRect(0, 0, midx * 2, midy * 2)
            ctx.beginPath()
            ctx.moveTo(0, midy)
            ctx.lineTo(midx * 2, midy)
            ctx.moveTo(midx, 0)
            ctx.lineTo(midx, midy * 2)
            ctx.stroke()
            ctx.beginPath()
            ctx.moveTo(1920 * 2 / 6, 1080 * 2 / 6);
            let tx = midx;
            let ty = midy;
            for (let i = 0; i < s.length; i++) {
                tx += Math.cos(s[i] * t) * pxSize
                ty += Math.sin(s[i] * t) * pxSize
                ctx.lineTo(tx, ty)
            }
            ctx.stroke()
            ctx.fillRect(tx-3,ty-3,6,6)
        }, 50 / 3)
    </script>
</body>

</html>