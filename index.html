<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Terminal</title>
    <link href="data:image/png;base64," rel="icon" type="image/png" />
</head>

<body>
    <style>

        body {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            margin: 0;
            background: #0d0d0c;
            overflow: hidden;
            cursor: none;
        }

        .cmd {
            position: absolute;
            left: 1%;
            top: 1%;
            color: #fff;
            font-family: Consolas;
            font-size: 0.9em;
            width: 50%;
        }

        .bar {
            position: absolute;
            color: #fff;
            font-family: Consolas;
            font-size: 0.9em;
            left: 1%;
            display: none;
        }

        .inp {
            background: transparent;
            border: none;
            color: #fff;
            font-family: Consolas;
            font-size: 1em;
            caret-color: #fff;
            height: 1em;
            position: absolute;
        }

        .cursor {
            position: absolute;
            font-family: Consolas;
            font-size: 1em;
            height: 1em;
            color: #fff;
            display: none;
        }

        .inp:focus {
            outline: none;
        }

        ::selection {
            background: #fff;
            color: #0d0d0c;
        }

        ::-moz-selection {
            background: #fff;
            color: #0d0d0c;
        }

        @keyframes blink {

            from,
            to {
                background-color: hsla(1, 1%, 100%, 1);
            }

            50% {
                background-color: hsla(60, 4%, 5%, 1);
            }
        }

        .caret {
            position: absolute;
            left: auto;
            top: 0%;
            background-color: hsla(1, 1%, 100%, 1);
            color: #000;
            animation: blink 1s step-end infinite;
        }

        .emPlaceholder {
            width: 0.9em;
        }

        textarea {
            position: absolute;
            left: 50%;
            top: 50%;
            width: 0;
            height: 0;
            opacity: 0;
        }
        .link{
            color:#fff;text-decoration:underline;cursor:pointer;
        }
    </style>
    <pre class='cmd'></pre>
    <pre class='cursor'>()</pre>
    <div class='bar'><span class='dir'>C:\Users\g1cx></span>
        <div class='inp'><span class='inpValue'></span><span class='caret'>â€‚</div></span>
    </div>
    <div class='emPlaceholder'></div>
    <textarea></textarea>
    <script>
        var w = document.body.clientWidth
        var h = document.body.clientHeight
        var em = document.querySelector('.emPlaceholder').offsetWidth
        var timestep = 20
        var totalstr = ''
        var string = `
Type 'PROJECTS' for a list of projects
Type 'MATH' for a list of math related projects
`
        var strings = string.split('\n')
        var asciiCursor = false
        var lastCmds = []
        var currentDir = 'main'
        var currentCmd = -1
        document.querySelector('.inp').style.width = w * 0.5 + 'px'
        function bar() {
            document.querySelector('.bar').style.display = 'inline-block'
            document.querySelector('.inp').style.left = document.querySelector('.dir').offsetWidth + (w * 0.0005) + 'px'
            document.querySelector('.inp').style.top = '0px'
        }
        function command() {
            currentCmd = -1
            var cmdt = document.querySelector('.inpValue').textContent
            lastCmds.push(cmdt)
            document.querySelector('.cmd').innerHTML += 'C:\\Users\\g1cx> ' + cmdt.replace(/</g, '&lt;') + '\n'
            totalstr = ''
            document.querySelector('.inpValue').textContent = ''
            document.querySelector('.inp').style.left = document.querySelector('.dir').offsetWidth + 5 + 'px'
            var cmd = cmdt.split(' ')[0].toLowerCase()
            var args = cmdt.split(' ').splice(1)
            if (cmd == 'projects') {
                document.querySelector('.cmd').innerHTML += `
                <span onclick="window.open('https://g1.cx/stuff/3d.html')" class="link">3d.html</span>\n
                <span onclick="window.open('https://g1.cx/stuff/dots.html')" class="link">dots.html</span>\n
                <span onclick="window.open('https://g1.cx/stuff/elements.html')" class="link">elements.html</span>\n
                <span onclick="window.open('https://g1.cx/stuff/elements2.html')" class="link">elements2.html</span>\n
                <span onclick="window.open('https://g1.cx/stuff/fitPoints.html')" class="link">fitPoints.html</span>\n
                <span onclick="window.open('https://g1.cx/stuff/finder.html')" class="link">finder.html</span>\n
                <span onclick="window.open('https://g1.cx/stuff/fourier.html')" class="link">fourier.html</span>\n
                <span onclick="window.open('https://g1.cx/stuff/fps.html')" class="link">fps.html</span>\n
                <span onclick="window.open('https://g1.cx/stuff/gravity.html')" class="link">gravity.html</span>\n
                <span onclick="window.open('https://g1.cx/stuff/physics.html')" class="link">physics.html</span>\n
                <span onclick="window.open('https://g1.cx/stuff/physics2.html')" class="link">physics2.html</span>\n
                <span onclick="window.open('https://g1.cx/stuff/physics3.html')" class="link">physics3.html</span>\n
                <span onclick="window.open('https://g1.cx/stuff/rtx.html')" class="link">rtx.html</span>\n
                <span onclick="window.open('https://g1.cx/stuff/spectrometer.html')" class="link">spectrometer.html</span>\n
                <span onclick="window.open('https://g1.cx/stuff/spectrometer2.html')" class="link">spectrometer2.html</span>\n
                <span onclick="window.open('https://g1.cx/stuff/spectrometer3.html')" class="link">spectrometer3.html</span>\n
                <span onclick="window.open('https://g1.cx/stuff/sqrtPrecise.html')" class="link">sqrtPrecise.html</span>\n
                <span onclick="window.open('https://g1.cx/stuff/time2.html')" class="link">time2.html</span>\n
                <span onclick="window.open('https://g1.cx/stuff/trajectory.html')" class="link">trajectory.html</span>\n
                <span onclick="window.open('https://g1.cx/stuff/wave.html')" class="link">wave.html</span>\n`
            } else if(cmd == 'math'){
                document.querySelector('.cmd').innerHTML += `
                <span onclick="window.open('https://g1.cx/stuff/math/reverseGraph.html')" class="link">math\\reverseGraph.html</span>\n
                <span onclick="window.open('https://g1.cx/stuff/math/sqrtapprox2.html')" class="link">math\\sqrtapprox2.html</span>\n
                <span onclick="window.open('https://g1.cx/stuff/math/spinning.html')" class="link">math\\spinning.html</span>\n
                <span onclick="window.open('https://g1.cx/stuff/math/primegenerating.html')" class="link">math\\primegenerating.html</span>\n`
            }

            if (document.querySelector('.cmd').getBoundingClientRect().bottom > h - 50) {
                document.querySelector('.cmd').style.top = h - (document.querySelector('.cmd').clientHeight + h * 0.01) - 50 + 'px'
            }
            document.querySelector('.bar').style.top = document.querySelector('.cmd').getBoundingClientRect().bottom + 'px'
        }
        function f(c) {
            document.querySelector('.cmd').textContent += strings[c] + '\n'
            document.querySelector('.bar').style.top = document.querySelector('.cmd').getBoundingClientRect().bottom + 'px'
            setTimeout(function () {
                strings[c + 1] ? f(c + 1) : bar()
            }, timestep)
        }
        document.body.onkeydown = function (e) {
            if (e.key == 'Backspace') {
                totalstr = totalstr.substr(0, totalstr.length - 1)
            } else {
                if (e.key.length == 1) totalstr += e.key
                if (e.key == 'Enter') command()
                if (e.key == 'ArrowUp') {
                    currentCmd += 1
                    totalstr = lastCmds.reverse()[currentCmd]
                    if (totalstr == undefined) totalstr = ''
                }
            }
            document.querySelector('.inpValue').textContent = totalstr
            //document.querySelector('.caret').style.left = document.querySelector('.inpValue').getBoundingClientRect().right-document.querySelector('.dir').offsetWidth-9+'px'
        }
        f(0)
        document.body.onclick = function () {
            document.querySelector('textarea').focus()
        }
        document.body.onmousemove = function (e) {
            if (asciiCursor == true) {
                document.body.style.cursor = 'none'
                document.querySelector('.cursor').style.display = 'inline-block'
                var y = e.clientY - (e.clientY % document.querySelector('.dir').offsetHeight)
                var x = e.clientX - (e.clientX % em)
                document.querySelector('.cursor').style.left = x + 'px'
                document.querySelector('.cursor').style.top = y + 'px'
            } else {
                document.querySelector('.cursor').style.display = 'none'
                document.body.style.cursor = 'auto'
            }
        }
    </script>
</body>

</html>